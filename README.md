# CodeSage â€“ Static Code Analysis & Refactoring Platform

> A safe, explainable, and developer-first AI code debugger that combines deterministic static analysis with controlled AI refactoring.

## ğŸŒ Live Demo

ğŸ‘‰ **Live Application:** https://codesage-nine.vercel.app

<details>
<summary>Backend & API</summary>

- Backend API: https://codesage-backend-eg56.onrender.com
- Swagger Docs: https://codesage-backend-eg56.onrender.com/docs

</details>

CodeSage is a developer-focused platform that performs **static code analysis, complexity evaluation, quality scoring, AI-based refactoring, test case generation, and Git-like version tracking** â€” all within a single, unified workflow.

Unlike simple linters or AI-only refactor tools, **CodeSage blends rule-based analysis with AI assistance**, ensuring **accuracy, safety, and explainability** at every step.

---

## ğŸš€ What This Project Achieves

CodeSage helps developers:

- Detect code quality issues **before runtime**
- Understand **time and structural complexity**
- Improve **readability, maintainability, and documentation**
- Safely refactor code **without changing logic**
- Track code evolution using **Git-like version history**
- Generate **relevant test cases** based on real code behavior

All insights are presented through a **clean, developer-friendly UI** designed for clarity and productivity.

---

## ğŸ“¸ Screenshots

### ğŸ§ª Code Input

Shows the original buggy code before analysis.
![Code Input](Code/screenshots/code_input.png)

---

### ğŸš¨ Static Analysis & Issues

Detected code issues with severity and line numbers.
![Issues](Code/screenshots/issues.png)

---

### ğŸ“Š Complexity & Quality Scores

Displays nesting depth, Big-O estimation, and quality metrics.
![Complexity Scores](Code/screenshots/complexity_scores.png)

---

### ğŸ”§ AI Refactored Code

Clean, logic-preserving refactored output generated by AI.
![Refactored Code](Code/screenshots/refactored_code.png)

---

### ğŸ” Unified Diff View

Side-by-side diff between original and refactored code.
![Diff View](Code/screenshots/diff_view.png)

---

### ğŸ§ª Test Case Generation

Automatically generated test cases based on real code behavior.
![Test Cases](Code/screenshots/testcases.png)

---

### ğŸ•’ Version History

Git-like version snapshots with issues, code, and diffs.
![Version History](Code/screenshots/version_history.png)

---

## ğŸ§  Core Capabilities

### 1ï¸âƒ£ Static Code Analysis (AST-Based)

Performs deterministic analysis using Pythonâ€™s AST to detect:

- Unused variables and imports
- Bad naming conventions
- Missing module & function docstrings
- Dead code and deep nesting
- Accurate **line-level issue reporting**

Issues are categorized as:

- **Error**
- **Warning**
- **Documentation**

**Technology:** Python AST traversal  
**Accuracy:** Deterministic (no AI hallucination)

---

### 2ï¸âƒ£ Complexity Analysis Engine

Computes and reports:

- Nesting depth
- Loop depth (including nested & async loops)
- Estimated Big-O complexity (`O(1)` â†’ `O(nÂ²)`)

Detects patterns such as:

- Nested loops

Outputs a **normalized complexity score (0â€“100)** so developers instantly understand performance risks.

---

### 3ï¸âƒ£ Quality Scoring System

Each code submission is evaluated across:

| Metric          | Description                    |
| --------------- | ------------------------------ |
| Readability     | Naming, clarity, structure     |
| Maintainability | Modularity & change resilience |
| Style           | Formatting & conventions       |
| Documentation   | Docstrings & explanation       |

- Scores are **weighted, realistic, and capped**
- Final score reflects **real developer expectations**, not arbitrary penalties

---

### 4ï¸âƒ£ AI-Based Refactoring (Safe by Design)

Refactors code while **strictly preserving behavior**:

- Improves naming & structure
- Reduces nesting and duplication
- Adds meaningful docstrings
- Removes unused variables and dead assignments

Safety guarantees:

- Markdown fences are stripped
- Syntax validated using `compile()`
- Automatic rollback on invalid AI output

AI is used **only where safe and controlled**.

---

### 5ï¸âƒ£ Diff Viewer

Provides a unified diff between:

- Original code
- Refactored code

Highlights:

- Added lines
- Removed lines
- Clear visual change tracking

This ensures **full transparency** in AI-generated modifications.

---

### 6ï¸âƒ£ Git-Like Version History â­ (Unique Feature)

Every analysis or refactor can be saved as a **version snapshot**.

Each version stores:

- Code snapshot
- Detected issues
- Complexity metrics
- Quality score
- Diff summary

Supports:

- Viewing version details
- Deleting versions
- Clearing session history

This feature **differentiates CodeSage** from typical AI code tools.

---

### 7ï¸âƒ£ Test Case Generation

Automatically generates test cases based on:

- Actual code behavior
- Refactored logic (preferred when available)

Guarantees:

- Structured, non-empty test output
- Realistic expected values
- Clear input-output mapping

---

## ğŸ›¡ UX & Stability Guarantees

- No analysis, refactor, or test generation runs on **empty input**
- No silent failures
- Clear user feedback on invalid actions
- Auto-scrolling to relevant sections (Issues, Refactor, Test Cases)
- Fully responsive **dark-mode UI**
- Graceful fallbacks on AI or backend errors

---

## ğŸ§© System Architecture

<details>
<summary>ğŸ“· High-resolution architecture diagram</summary>

![CodeSage Architecture](Code/codesage-architecture.png)

</details>

---

## ğŸ§© Architecture Overview

### Frontend

- React (Vite)
- Tailwind CSS
- CodeMirror Editor
- Modular component architecture

### Backend

- FastAPI
- Python AST analysis
- SQLite (Version History)
- Google Gemini API

---

## ğŸŒŸ Why CodeSage Is Different

- Combines **deterministic static analysis + AI**, not AI alone
- AI output is **syntax-validated and rollback-safe**
- Version history works like **Git**, not chat history
- Designed for **real developers**, not just demos

---

## ğŸ—ï¸ Tech Stack

**Frontend:** React, Vite, Tailwind CSS, CodeMirror  
**Backend:** FastAPI, Python AST, SQLite  
**AI:** Google Gemini  
**Persistence:** SQLite (version history)

---

## ğŸ‘¤ Author

**Kiruthika M**  
AI & DS Student | Aspiring Software Development Engineer

---

## ğŸ“Œ Status

ğŸš€ **Actively developed**  
ğŸ¯ Hackathon-ready  
ğŸ’¼ Resume-ready project
